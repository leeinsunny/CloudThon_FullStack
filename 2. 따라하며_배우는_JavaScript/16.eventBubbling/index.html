<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body * {
            margin:10px;
            border: 1px solid red;
        }
    </style>
</head>
<body>
    <h1>EventBubbling</h1>
    <h5> <pre>
        이벤트 버블링이란 가장 깊게 중첩된 요소에 이벤트가 발생했을 때, 
        이벤트가 위로 (bubble up) 전달 되는 것을 의미함

        그래서 3번 요소, 2번 요소, 1번 요소에 그 이벤트에 대한 핸들러가 있다면
        3번 요소에 핸들러가 실행되고 2번 요소에 핸들러 1번 요소에 핸들러 순으로 실행된다
    </pre></h5>
    <br>
    <form>Form
        <div>Div
            <p>p</p>
        </div>
    </form>

<!--여기서 event.target ===> 실제 이벤트가 시작된 "타겟" 요소이다-->
<!--this(event.currentTarget)===> 현재 요소로, 현재 실행 중인 handle가 할당된 요소를 참조한다-->

<br>
    <h1>EventBubbling 중단하기</h1>
    <h5> <pre>
            이벤트 버블링은 타깃 이벤트에서 시작해서 요소를 거쳐 document 객체를 만날 때까지
            각 노드에서 모두 발생한다. 몇몇 이벤트는 window객체까지 거슬러 올라가기도 한다
            이때도 모든 핸들러가 호출된다

            그런데 핸들러에게 이벤트를 완전히 처리하고 난 후 버블링을 중단하도록 명령할 수 있다.
            그러기 위해서는 event.stopPropagation() 메소드를 사용하면 된다
        </pre></h5>
    <script>
        const form = document.querySelector('form');
        const div = document.querySelector('div');
        const p = document.querySelector('p');

        form.onclick = function(event){
            event.target.style.backgroundColor = 'yellow';

            setTimeout(()=>{
                alert("target="+event.target.tagName + ", this="+this.tagName);
                event.target.style.backgroundColor='';
            }, 0);


        }


        
    </script>
</body>
</html>